# Yakeru-USB Frontend (Unity)

ISOファイルをUSBメモリに書き込むためのUnityフロントエンドアプリケーション。

## セットアップ

1. このプロジェクトをUnity 2022.3以降で開きます。
2. 必要なパッケージがインストールされていることを確認します。
   - TextMeshPro
   - Newtonsoft.Json (Unity Package Manager経由)

3. シーンを開いて実行します。バックエンドサーバーが起動していることを確認してください。

## 主要なスクリプト

- **APIClient.cs**: バックエンドAPIと通信するHTTPクライアント
- **WebSocketClient.cs**: 書き込み進捗を監視するクライアント
- **ISOManager.cs**: ISOファイルとUSBデバイスの管理
- **UIController.cs**: UIの制御

## 通信設定

デフォルトでは、バックエンドサーバーは `http://localhost:5000` で接続します。
異なるホストやポートを使用する場合は、APIClientとWebSocketClientの設定を変更してください。

## 使用方法

1. アプリケーションを起動すると、利用可能なISOファイルとUSBデバイスが表示されます。
2. 書き込むISOファイルを選択します。
3. 書き込み先のUSBデバイスを選択します。
4. 「Write」ボタンをクリックして書き込みを開始します。
5. 進捗バーで書き込みの状況を確認します。

## トラブルシューティング

### 接続エラー

- バックエンドサーバーが実行中であることを確認
- APIClientクラスのapiBaseUrlが正しいことを確認（デフォルト: http://localhost:5000/api）
- WebSocketClientクラスのsocketUrlが正しいことを確認（デフォルト: http://localhost:5000）
- ファイアウォール設定でHTTP接続が許可されていることを確認

## 注意事項

- USBデバイスへの書き込みを行うと、デバイス上のすべてのデータが消去されます。
- バックエンドサーバーは管理者権限で実行する必要があります。
- 予期しない切断を防ぐため、書き込み中はUSBデバイスを取り外さないでください。
